{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\computer lab\\\\Desktop\\\\ecomfirebase\\\\red-onionfood\\\\src\\\\pages\\\\SignUp.js\";\nimport React from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport { Link, useHistory } from 'react-router-dom';\nimport { FormContainer, MainDiv } from '../components/styles/StyleSignUp';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport logo from '../Image/logo2.png';\nimport bg from '../Image/bg2.png';\nimport { useState } from 'react';\nimport firebaseConfig from '../components/firebase/firebase.config';\nimport { useDispatch } from 'react-redux';\nimport { loggedInUser } from '../redux/actions';\n\nconst SignUp = () => {\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  }\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [user, setUser] = useState({\n    name: '',\n    email: '',\n    password: ''\n  });\n\n  const handleInput = e => {\n    if (e.target.name === 'email') {\n      const rex = /\\S+@\\S+\\.\\S+/;\n\n      if (!rex.test(e.target.value)) {\n        document.getElementById('emailError').innerText = 'Enter a valid email';\n      } else {\n        document.getElementById('emailError').innerText = '';\n      }\n    }\n\n    if (e.target.name === 'password') {\n      const rex = /^(?=\\S*[a-z])(?=\\S*[A-Z])(?=\\S*\\d)(?=\\S*[^\\w\\s])\\S{8,}$/;\n\n      if (!rex.test(e.target.value)) {\n        document.getElementById('passError').innerText = 'Password should contain a number, a special letter and lowercase uppercase letter';\n      } else {\n        document.getElementById('passError').innerText = '';\n      }\n    }\n\n    if (e.target.name === 'confirmPass') {\n      if (e.target.value !== user.password) {\n        document.getElementById('confirmError').innerText = 'Password should be matched';\n      } else {\n        document.getElementById('confirmError').innerText = '';\n      }\n    }\n\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleForm = e => {\n    e.preventDefault();\n    document.getElementById('error').innerText = '';\n\n    if (user.name && user.email && user.password) {\n      firebase.auth().createUserWithEmailAndPassword(user.email, user.password).then(res => {\n        var userUpdate = firebase.auth().currentUser;\n        toast.info('signed up successfully'); //update display name\n\n        dispatch(loggedInUser(userUpdate));\n        userUpdate.updateProfile({\n          displayName: user.name\n        }).then(() => toast.success('Updated user successfully')).catch(error => toast.error(error.message)); //send a verification mail to user\n\n        userUpdate.sendEmailVerification().then(function () {\n          toast.success('Send a verification mail');\n        }).catch(function (error) {\n          toast.error(error.message);\n        });\n        history.push('/login');\n      }).catch(function (error) {\n        document.getElementById('error').innerText = error.message;\n      });\n    } else {\n      document.getElementById('error').innerText = 'Fill all the fields correctly';\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(MainDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: bg,\n    alt: \"\",\n    className: \"img-fluid bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(FormContainer, {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    onChange: handleInput,\n    value: user.name,\n    className: \"form-control\",\n    placeholder: \"Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    onChange: handleInput,\n    value: user.email,\n    className: \"form-control\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"emailError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 8\n    }\n  }, ''), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    onChange: handleInput,\n    value: user.password,\n    className: \"form-control\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"passError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 8\n    }\n  }, ''), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"confirmPass\",\n    onChange: handleInput,\n    className: \"form-control\",\n    placeholder: \"Confirm Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    id: \"confirmError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 8\n    }\n  }, ''), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 8\n    }\n  }, \"Sign Up\"), /*#__PURE__*/React.createElement(ToastContainer, {\n    position: \"top-center\",\n    autoClose: 2000,\n    hideProgressBar: false,\n    newestOnTop: false,\n    closeOnClick: true,\n    rtl: false,\n    pauseOnFocusLoss: true,\n    draggable: true,\n    pauseOnHover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    id: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, '')), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 10\n    }\n  }, \"Already have an account\"))))))));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["C:/Users/computer lab/Desktop/ecomfirebase/red-onionfood/src/pages/SignUp.js"],"names":["React","ToastContainer","toast","Link","useHistory","FormContainer","MainDiv","firebase","logo","bg","useState","firebaseConfig","useDispatch","loggedInUser","SignUp","apps","length","initializeApp","dispatch","history","user","setUser","name","email","password","handleInput","e","target","rex","test","value","document","getElementById","innerText","handleForm","preventDefault","auth","createUserWithEmailAndPassword","then","res","userUpdate","currentUser","info","updateProfile","displayName","success","catch","error","message","sendEmailVerification","push"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { FormContainer, MainDiv } from '../components/styles/StyleSignUp';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport logo from '../Image/logo2.png';\r\nimport bg from '../Image/bg2.png';\r\nimport { useState } from 'react';\r\nimport firebaseConfig from '../components/firebase/firebase.config';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loggedInUser } from '../redux/actions';\r\n\r\nconst SignUp = () => {\r\n\tif (!firebase.apps.length) {\r\n\t\tfirebase.initializeApp(firebaseConfig);\r\n\t}\r\n\tconst dispatch = useDispatch();\r\n\tconst history = useHistory();\r\n\tconst [ user, setUser ] = useState({\r\n\t\tname     : '',\r\n\t\temail    : '',\r\n\t\tpassword : ''\r\n\t});\r\n\r\n\tconst handleInput = (e) => {\r\n\t\tif (e.target.name === 'email') {\r\n\t\t\tconst rex = /\\S+@\\S+\\.\\S+/;\r\n\t\t\tif (!rex.test(e.target.value)) {\r\n\t\t\t\tdocument.getElementById('emailError').innerText = 'Enter a valid email';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdocument.getElementById('emailError').innerText = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (e.target.name === 'password') {\r\n\t\t\tconst rex = /^(?=\\S*[a-z])(?=\\S*[A-Z])(?=\\S*\\d)(?=\\S*[^\\w\\s])\\S{8,}$/;\r\n\t\t\tif (!rex.test(e.target.value)) {\r\n\t\t\t\tdocument.getElementById('passError').innerText =\r\n\t\t\t\t\t'Password should contain a number, a special letter and lowercase uppercase letter';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdocument.getElementById('passError').innerText = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (e.target.name === 'confirmPass') {\r\n\t\t\tif (e.target.value !== user.password) {\r\n\t\t\t\tdocument.getElementById('confirmError').innerText = 'Password should be matched';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdocument.getElementById('confirmError').innerText = '';\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleForm = (e) => {\r\n\t\te.preventDefault();\r\n\t\tdocument.getElementById('error').innerText = '';\r\n\t\tif (user.name && user.email && user.password) {\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.createUserWithEmailAndPassword(user.email, user.password)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tvar userUpdate = firebase.auth().currentUser;\r\n\t\t\t\t\ttoast.info('signed up successfully');\r\n\t\t\t\t\t//update display name\r\n\t\t\t\t\tdispatch(loggedInUser(userUpdate));\r\n\t\t\t\t\tuserUpdate\r\n\t\t\t\t\t\t.updateProfile({\r\n\t\t\t\t\t\t\tdisplayName : user.name\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then(() => toast.success('Updated user successfully'))\r\n\t\t\t\t\t\t.catch((error) => toast.error(error.message));\r\n\t\t\t\t\t//send a verification mail to user\r\n\t\t\t\t\tuserUpdate\r\n\t\t\t\t\t\t.sendEmailVerification()\r\n\t\t\t\t\t\t.then(function () {\r\n\t\t\t\t\t\t\ttoast.success('Send a verification mail');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\t\t\ttoast.error(error.message);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\thistory.push('/login');\r\n\t\t\t\t})\r\n\t\t\t\t.catch(function (error) {\r\n\t\t\t\t\tdocument.getElementById('error').innerText = error.message;\r\n\t\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdocument.getElementById('error').innerText = 'Fill all the fields correctly';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<MainDiv>\r\n\t\t\t<img src={bg} alt=\"\" className=\"img-fluid bg\" />\r\n\t\t\t<FormContainer className=\"container\">\r\n\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-md-4\">\r\n\t\t\t\t\t\t<form onSubmit={handleForm}>\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<img src={logo} alt=\"banner\" />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\t\tvalue={user.name}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\t\tvalue={user.email}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p id=\"emailError\">{''}</p>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\t\tvalue={user.password}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p id=\"passError\">{''}</p>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"confirmPass\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p id=\"confirmError\">{''}</p>\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-submit\">\r\n\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<ToastContainer\r\n\t\t\t\t\t\t\t\tposition=\"top-center\"\r\n\t\t\t\t\t\t\t\tautoClose={2000}\r\n\t\t\t\t\t\t\t\thideProgressBar={false}\r\n\t\t\t\t\t\t\t\tnewestOnTop={false}\r\n\t\t\t\t\t\t\t\tcloseOnClick\r\n\t\t\t\t\t\t\t\trtl={false}\r\n\t\t\t\t\t\t\t\tpauseOnFocusLoss\r\n\t\t\t\t\t\t\t\tdraggable\r\n\t\t\t\t\t\t\t\tpauseOnHover\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p id=\"error\">{''}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Link to=\"/login\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<strong>Already have an account</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</FormContainer>\r\n\t\t</MainDiv>\r\n\t);\r\n};\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}