{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\computer lab\\\\Desktop\\\\ecomfirebase\\\\red-onionfood\\\\src\\\\pages\\\\cart\\\\Cart.js\";\nimport React from 'react';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { CartSection } from '../../components/styles/StyleCart';\nimport { clearCart, deliveryDetails } from '../../redux/actions';\nimport CartItems from './CartItems';\nimport Payment from '../../components/payment/Payment';\n\nconst Cart = () => {\n  const hist = useHistory();\n  const cartFoods = useSelector(state => state.cart);\n  const dispatch = useDispatch();\n  const [isDelivery, setIsDelivery] = useState(false);\n  const [isPaid, setIsPaid] = useState(false);\n  const [delivery, setDelivery] = useState({\n    type: '',\n    road: '',\n    flat: '',\n    name: '',\n    instruction: ''\n  });\n\n  const handleInput = e => {\n    setDelivery({ ...delivery,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handlePayment = id => {\n    setUserPaymentInfo({ ...userPaymentInfo,\n      id: id\n    });\n  };\n\n  const [userPaymentInfo, setUserPaymentInfo] = useState({\n    id: '',\n    roadAddress: '',\n    flatAddress: ''\n  });\n\n  const handleForm = e => {\n    e.preventDefault();\n    setIsDelivery(true);\n    dispatch(deliveryDetails(delivery));\n    setUserPaymentInfo({ ...userPaymentInfo,\n      roadAddress: delivery.road,\n      flatAddress: delivery.flat\n    });\n  };\n\n  const clearCartHandler = () => {\n    dispatch(clearCart());\n  };\n\n  const handlePlaceOrder = () => {\n    hist.push('/complete-order');\n  }; //Total, Subtotal, Tax, Delivery Fee\n\n\n  let subtotal = cartFoods.reduce((acc, curr) => {\n    return acc + curr.price * curr.quantity;\n  }, 0);\n  let totalQuantity = cartFoods.reduce((acc, curr) => {\n    return acc + curr.quantity;\n  }, 0);\n  let tax = subtotal / 100 * 5;\n  const deliveryFee = cartFoods.length * 60;\n  const total = subtotal + tax + deliveryFee;\n  return /*#__PURE__*/React.createElement(CartSection, {\n    className: \"container cart-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-around cart-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-5 form-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, !isDelivery && /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 22\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"Edit Delivery Details\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"type\",\n    className: \"form-control\",\n    placeholder: \"Delivery to Door\",\n    onChange: handleInput,\n    value: delivery.type,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"road\",\n    className: \"form-control\",\n    placeholder: \"Road No.\",\n    onChange: handleInput,\n    value: delivery.road,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"flat\",\n    className: \"form-control\",\n    placeholder: \"Flat, Suit or Floor\",\n    onChange: handleInput,\n    value: delivery.flat,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    className: \"form-control\",\n    placeholder: \"Business name\",\n    onChange: handleInput,\n    value: delivery.name,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    name: \"instruction\",\n    cols: \"47\",\n    rows: \"4\",\n    placeholder: \"Add delivery instruction\",\n    onChange: handleInput,\n    value: delivery.instruction,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 8\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }\n  }, \"Save & Continue\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 6\n    }\n  }, isDelivery && /*#__PURE__*/React.createElement(Payment, {\n    setIsPaid: setIsPaid,\n    handlePayment: handlePayment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }\n  }, cartFoods.length >= 1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"address-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 8\n    }\n  }, \"From \", /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 14\n    }\n  }, \"Gulshan Plaza Restaurant GPR\")), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 8\n    }\n  }, \"Arriving in 20-30 min\"), isDelivery && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 10\n    }\n  }, \"To: \", delivery.road))), cartFoods.length >= 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-items\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, cartFoods.map(food => {\n    return /*#__PURE__*/React.createElement(CartItems, {\n      key: food.id,\n      food: food,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 16\n      }\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clearCartHandler,\n    className: \"clear btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, \"Clear Cart\"))) : /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: '#F9204A',\n      fontWeight: 'bold',\n      fontSize: '1.5rem',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }\n  }, \"No foods in the cart\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"price-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 8\n    }\n  }, \"Subtotal: \", totalQuantity, \" item\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 10\n    }\n  }, \"$\", subtotal.toFixed(2)), ' ')), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 8\n    }\n  }, \"Tax\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 10\n    }\n  }, \"$\", tax.toFixed(2)), ' ')), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 8\n    }\n  }, \"Delivery Fee\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 10\n    }\n  }, \"$\", deliveryFee))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 8\n    }\n  }, \"Total\", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 10\n    }\n  }, \"$\", total.toFixed(2)), ' ')))), cartFoods.length >= 1 && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handlePlaceOrder,\n    className: \"btn btn-place\",\n    disabled: !isPaid,\n    \"data-toggle\": \"tooltip\",\n    \"data-placement\": \"top\",\n    title: !isDelivery ? 'Fill delivery details to active place order' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }, \"Place Order\"))));\n};\n\nexport default Cart;","map":{"version":3,"sources":["C:/Users/computer lab/Desktop/ecomfirebase/red-onionfood/src/pages/cart/Cart.js"],"names":["React","useState","useDispatch","useSelector","useHistory","CartSection","clearCart","deliveryDetails","CartItems","Payment","Cart","hist","cartFoods","state","cart","dispatch","isDelivery","setIsDelivery","isPaid","setIsPaid","delivery","setDelivery","type","road","flat","name","instruction","handleInput","e","target","value","handlePayment","id","setUserPaymentInfo","userPaymentInfo","roadAddress","flatAddress","handleForm","preventDefault","clearCartHandler","handlePlaceOrder","push","subtotal","reduce","acc","curr","price","quantity","totalQuantity","tax","deliveryFee","length","total","map","food","color","fontWeight","fontSize","textAlign","toFixed"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CartSection } from '../../components/styles/StyleCart';\r\nimport { clearCart, deliveryDetails } from '../../redux/actions';\r\nimport CartItems from './CartItems';\r\nimport Payment from '../../components/payment/Payment';\r\n\r\nconst Cart = () => {\r\n\tconst hist = useHistory();\r\n\tconst cartFoods = useSelector((state) => state.cart);\r\n\tconst dispatch = useDispatch();\r\n\tconst [ isDelivery, setIsDelivery ] = useState(false);\r\n\tconst [isPaid, setIsPaid]= useState(false)\r\n\tconst [ delivery, setDelivery ] = useState({\r\n\t\ttype        : '',\r\n\t\troad        : '',\r\n\t\tflat        : '',\r\n\t\tname        : '',\r\n\t\tinstruction : ''\r\n\t});\r\n\r\n\t\r\n\r\n\tconst handleInput = (e) => {\r\n\t\tsetDelivery({\r\n\t\t\t...delivery,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst handlePayment = (id) => {\r\n\t\tsetUserPaymentInfo({\r\n\t\t\t...userPaymentInfo,\r\n\t\t\tid : id\r\n\t\t});\r\n\t};\r\n\tconst [ userPaymentInfo, setUserPaymentInfo ] = useState({\r\n\t\tid          : '',\r\n\t\troadAddress : '',\r\n\t\tflatAddress : ''\r\n\t});\r\n\r\n\tconst handleForm = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetIsDelivery(true);\r\n\t\tdispatch(deliveryDetails(delivery));\r\n\t\tsetUserPaymentInfo({\r\n\t\t\t...userPaymentInfo,\r\n\t\t\troadAddress : delivery.road,\r\n\t\t\tflatAddress : delivery.flat\r\n\t\t});\r\n\t};\r\n\r\n\tconst clearCartHandler = () => {\r\n\t\tdispatch(clearCart());\r\n\t};\r\n\r\n\tconst handlePlaceOrder = () => {\r\n\t\thist.push('/complete-order');\r\n\t};\r\n\r\n\t//Total, Subtotal, Tax, Delivery Fee\r\n\tlet subtotal = cartFoods.reduce((acc, curr) => {\r\n\t\treturn acc + curr.price * curr.quantity;\r\n\t}, 0);\r\n\r\n\tlet totalQuantity = cartFoods.reduce((acc, curr) => {\r\n\t\treturn acc + curr.quantity;\r\n\t}, 0);\r\n\r\n\tlet tax = subtotal / 100 * 5;\r\n\tconst deliveryFee = cartFoods.length * 60;\r\n\tconst total = subtotal + tax + deliveryFee;\r\n\r\n\treturn (\r\n\t\t<CartSection className=\"container cart-section\">\r\n\t\t\t<div className=\"row justify-content-around cart-content\">\r\n\t\t\t\t<div className=\"col-lg-5 form-info\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!isDelivery && <form onSubmit={handleForm}>\r\n\t\t\t\t\t\t<h4>Edit Delivery Details</h4>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"type\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Delivery to Door\"\r\n\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\tvalue={delivery.type}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"road\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Road No.\"\r\n\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\tvalue={delivery.road}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"flat\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Flat, Suit or Floor\"\r\n\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\tvalue={delivery.flat}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Business name\"\r\n\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\tvalue={delivery.name}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tname=\"instruction\"\r\n\t\t\t\t\t\t\t\tcols=\"47\"\r\n\t\t\t\t\t\t\t\trows=\"4\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Add delivery instruction\"\r\n\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\tvalue={delivery.instruction}\r\n\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-save\">\r\n\t\t\t\t\t\t\tSave & Continue\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div className=\"payment-sec\">\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tisDelivery && <Payment setIsPaid={setIsPaid} handlePayment={handlePayment} />\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-5\">\r\n\t\t\t\t\t{cartFoods.length >= 1 && (\r\n\t\t\t\t\t\t<div className=\"address-details\">\r\n\t\t\t\t\t\t\t<h6>\r\n\t\t\t\t\t\t\t\tFrom <strong>Gulshan Plaza Restaurant GPR</strong>\r\n\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t<p>Arriving in 20-30 min</p>\r\n\t\t\t\t\t\t\t{isDelivery && (\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<strong>To: {delivery.road}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{cartFoods.length >= 1 ? (\r\n\t\t\t\t\t\t<div className=\"cart-items\">\r\n\t\t\t\t\t\t\t{cartFoods.map((food) => {\r\n\t\t\t\t\t\t\t\treturn <CartItems key={food.id} food={food} />;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<button onClick={clearCartHandler} className=\"clear btn\">\r\n\t\t\t\t\t\t\t\t\tClear Cart\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p style={{ color: '#F9204A', fontWeight: 'bold', fontSize: '1.5rem', textAlign: 'center' }}>\r\n\t\t\t\t\t\t\tNo foods in the cart\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"price-details\">\r\n\t\t\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\tSubtotal: {totalQuantity} item\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<strong>${subtotal.toFixed(2)}</strong>{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\tTax\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<strong>${tax.toFixed(2)}</strong>{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\tDelivery Fee\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<strong>${deliveryFee}</strong>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n\t\t\t\t\t\t\t\tTotal\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<strong>${total.toFixed(2)}</strong>{' '}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{cartFoods.length >= 1 && (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={handlePlaceOrder}\r\n\t\t\t\t\t\t\tclassName=\"btn btn-place\"\r\n\t\t\t\t\t\t\tdisabled={!isPaid}\r\n\t\t\t\t\t\t\tdata-toggle=\"tooltip\"\r\n\t\t\t\t\t\t\tdata-placement=\"top\"\r\n\t\t\t\t\t\t\ttitle={!isDelivery ? 'Fill delivery details to active place order' : ''}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</CartSection>\r\n\t);\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}