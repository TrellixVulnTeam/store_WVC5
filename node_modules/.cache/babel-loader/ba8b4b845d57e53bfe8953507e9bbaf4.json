{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\computer lab\\\\Desktop\\\\ecomfirebase\\\\red-onionfood\\\\src\\\\pages\\\\LogIn.js\";\nimport React from 'react';\nimport { FormContainer, MainDiv } from '../components/styles/StyleSignUp';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport logo from '../Image/logo2.png';\nimport bg from '../Image/bg2.png';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { FaFacebookSquare, FaGoogle } from 'react-icons/fa';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport firebaseConfig from '../components/firebase/firebase.config';\nimport { loggedInUser } from '../redux/actions';\n\nconst LogIn = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const {\n    from\n  } = location.state || {\n    from: {\n      pathname: '/cart'\n    }\n  }; //firebase initialize\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  } //redux\n\n\n  const dispatch = useDispatch(); //state\n\n  const [user, setUser] = useState({\n    email: '',\n    password: ''\n  }); //handle input data\n\n  const handleInput = e => {\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const setUserToken = () => {\n    firebase.auth().currentUser.getIdToken(true).then(function (idToken) {\n      sessionStorage.setItem('token', idToken);\n      console.log(idToken);\n    }).catch(function (error) {\n      alert(error.message);\n    });\n  }; //google login handle\n\n\n  var provider = new firebase.auth.GoogleAuthProvider();\n\n  const googleLogin = () => {\n    firebase.auth().signInWithPopup(provider).then(function (result) {\n      dispatch(loggedInUser(result.user));\n      toast.success('Logged In Successfully');\n      setUserToken();\n      history.replace(from);\n    }).catch(function (error) {\n      toast.error(error.message);\n    });\n  }; //facebook login handle\n\n\n  var fbProvider = new firebase.auth.FacebookAuthProvider();\n\n  const fbLogin = () => {\n    firebase.auth().signInWithPopup(fbProvider).then(function (result) {\n      dispatch(loggedInUser(result.user));\n      toast.success('Logged In Successfully');\n      history.replace(from);\n    }).catch(function (error) {\n      toast.error(error.message);\n    });\n  }; //on form submit\n\n\n  const handleForm = e => {\n    e.preventDefault();\n\n    if (!user.email && !user.password) {\n      document.getElementById('error').innerText = 'Enter All Values Correctly';\n    } else {\n      firebase.auth().signInWithEmailAndPassword(user.email, user.password).then(result => {\n        dispatch(loggedInUser(result.user));\n        history.replace(from);\n      }).catch(error => {\n        document.getElementById('error').innerText = error.message;\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(MainDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: bg,\n    alt: \"\",\n    className: \"img-fluid bg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(FormContainer, {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    className: \"form-control\",\n    onChange: handleInput,\n    value: user.email,\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    className: \"form-control\",\n    onChange: handleInput,\n    value: user.password,\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 8\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-catch text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    id: \"error\",\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, '')), /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 10\n    }\n  }, \"Create a new account\")))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 8\n    }\n  }, \"Or Login with\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-media d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FaFacebookSquare, {\n    onClick: fbLogin,\n    className: \"icon fb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(FaGoogle, {\n    onClick: googleLogin,\n    className: \"icon google\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(ToastContainer, {\n    position: \"top-center\",\n    autoClose: 2000,\n    hideProgressBar: false,\n    newestOnTop: false,\n    closeOnClick: true,\n    rtl: false,\n    pauseOnFocusLoss: true,\n    draggable: true,\n    pauseOnHover: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 8\n    }\n  }))))));\n};\n\nexport default LogIn;","map":{"version":3,"sources":["C:/Users/computer lab/Desktop/ecomfirebase/red-onionfood/src/pages/LogIn.js"],"names":["React","FormContainer","MainDiv","firebase","logo","bg","Link","useHistory","useLocation","FaFacebookSquare","FaGoogle","ToastContainer","toast","useState","useDispatch","firebaseConfig","loggedInUser","LogIn","history","location","from","state","pathname","apps","length","initializeApp","dispatch","user","setUser","email","password","handleInput","e","target","name","value","setUserToken","auth","currentUser","getIdToken","then","idToken","sessionStorage","setItem","console","log","catch","error","alert","message","provider","GoogleAuthProvider","googleLogin","signInWithPopup","result","success","replace","fbProvider","FacebookAuthProvider","fbLogin","handleForm","preventDefault","document","getElementById","innerText","signInWithEmailAndPassword","color"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { FormContainer, MainDiv } from '../components/styles/StyleSignUp';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport logo from '../Image/logo2.png';\r\nimport bg from '../Image/bg2.png';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { FaFacebookSquare, FaGoogle } from 'react-icons/fa';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport firebaseConfig from '../components/firebase/firebase.config';\r\nimport { loggedInUser } from '../redux/actions';\r\n\r\nconst LogIn = () => {\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\tconst { from } = location.state || { from: { pathname: '/cart' } };\r\n\t//firebase initialize\r\n\tif (!firebase.apps.length) {\r\n\t\tfirebase.initializeApp(firebaseConfig);\r\n\t}\r\n\t//redux\r\n\tconst dispatch = useDispatch();\r\n\t//state\r\n\tconst [ user, setUser ] = useState({\r\n\t\temail    : '',\r\n\t\tpassword : ''\r\n\t});\r\n\r\n\t//handle input data\r\n\tconst handleInput = (e) => {\r\n\t\tsetUser({\r\n\t\t\t...user,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst setUserToken = () => {\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.currentUser.getIdToken(true)\r\n\t\t\t.then(function (idToken) {\r\n\t\t\t\tsessionStorage.setItem('token', idToken);\r\n\t\t\t\tconsole.log(idToken);\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t};\r\n\r\n\t//google login handle\r\n\tvar provider = new firebase.auth.GoogleAuthProvider();\r\n\tconst googleLogin = () => {\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.signInWithPopup(provider)\r\n\t\t\t.then(function (result) {\r\n\t\t\t\tdispatch(loggedInUser(result.user));\r\n\t\t\t\ttoast.success('Logged In Successfully');\r\n\t\t\t\tsetUserToken();\r\n\t\t\t\thistory.replace(from);\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\ttoast.error(error.message);\r\n\t\t\t});\r\n\t};\r\n\r\n\t//facebook login handle\r\n\tvar fbProvider = new firebase.auth.FacebookAuthProvider();\r\n\tconst fbLogin = () => {\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.signInWithPopup(fbProvider)\r\n\t\t\t.then(function (result) {\r\n\t\t\t\tdispatch(loggedInUser(result.user));\r\n\t\t\t\ttoast.success('Logged In Successfully');\r\n\r\n\t\t\t\thistory.replace(from);\r\n\t\t\t})\r\n\t\t\t.catch(function (error) {\r\n\t\t\t\ttoast.error(error.message);\r\n\t\t\t});\r\n\t};\r\n\r\n\t//on form submit\r\n\tconst handleForm = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (!user.email && !user.password) {\r\n\t\t\tdocument.getElementById('error').innerText = 'Enter All Values Correctly';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.signInWithEmailAndPassword(user.email, user.password)\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tdispatch(loggedInUser(result.user));\r\n\t\t\t\t\thistory.replace(from);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tdocument.getElementById('error').innerText = error.message;\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<MainDiv>\r\n\t\t\t<img src={bg} alt=\"\" className=\"img-fluid bg\" />\r\n\t\t\t<FormContainer className=\"container\">\r\n\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-md-4\">\r\n\t\t\t\t\t\t<form onSubmit={handleForm}>\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<img src={logo} alt=\"banner\" />\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\t\tvalue={user.email}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\t\t\tvalue={user.password}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-submit\">\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className=\"error-catch text-center\">\r\n\t\t\t\t\t\t\t\t<p id=\"error\" style={{ color: 'red' }}>\r\n\t\t\t\t\t\t\t\t\t{''}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Link to=\"/signup\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<strong>Create a new account</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\t\t\t<strong>Or Login with</strong>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"social-media d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<FaFacebookSquare onClick={fbLogin} className=\"icon fb\" />\r\n\t\t\t\t\t\t\t<FaGoogle onClick={googleLogin} className=\"icon google\" />\r\n\t\t\t\t\t\t\t<ToastContainer\r\n\t\t\t\t\t\t\t\tposition=\"top-center\"\r\n\t\t\t\t\t\t\t\tautoClose={2000}\r\n\t\t\t\t\t\t\t\thideProgressBar={false}\r\n\t\t\t\t\t\t\t\tnewestOnTop={false}\r\n\t\t\t\t\t\t\t\tcloseOnClick\r\n\t\t\t\t\t\t\t\trtl={false}\r\n\t\t\t\t\t\t\t\tpauseOnFocusLoss\r\n\t\t\t\t\t\t\t\tdraggable\r\n\t\t\t\t\t\t\t\tpauseOnHover\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</FormContainer>\r\n\t\t</MainDiv>\r\n\t);\r\n};\r\n\r\nexport default LogIn;\r\n"]},"metadata":{},"sourceType":"module"}